# 这是一个基本的clash免费节点配置文件
# 如需获取更新,请加入『等待补充的订阅链接』

# port of HTTP
port: 7890

# port of SOCKS5
socks-port: 7891

# (HTTP and SOCKS5 in one port)
# mixed-port: 7890

# redir port for Linux and macOS
# redir-port: 7892

dns:
  enable: true
  listen: 0.0.0.0:53
  default-nameserver:
    - 223.5.5.5
    - 8.8.8.8
  enhanced-mode: redir-host # or fake-ip
  nameserver:
    - 223.5.5.5 # default value
    - 8.8.8.8 # default value
    - tls://dns.rubyfish.cn:853 # DNS over TLS
    - https://1.1.1.1/dns-query # DNS over HTTPS
allow-lan: false
mode: rule
log-level: info
external-controller: 127.0.0.1:9090
proxies:

proxy-groups:
  - name: 🌐 全局选择
    type: select
    proxies:
      - DIRECT
      - 🚩 选择地区
      - 🚀 选择节点
      - 🧢 临时节点
  - name: 🚩 选择地区
    type: select
    proxies:
      - 🇨🇳 中国
      - DIRECT
  - name: 🚀 选择节点
    type: select
    use:
      - cn
      - all
  - name: 🎯 全球直连
    type: select
    proxies:
      - DIRECT
      - 🚀 选择节点
  - name: 🇨🇳 中国
    type: select
    use:
      - cn
  - name: 🧢 临时节点
    type: select
    use:
      - bdkeji
rules:
- RULE-SET,ChinaIPs,🎯 全球直连
- RULE-SET,ChinaIPsBGP,🎯 全球直连
- RULE-SET,China,🎯 全球直连
- GEOIP,CN,🎯 全球直连
- MATCH,🌐 全局选择
rule-providers:
  ChinaIPs:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Clash/ChinaIPs/ChinaIPs_Classical.yaml
    path: ./Rules/ChinaIPs
    interval: 86400
  ChinaIPsBGP:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/ChinaIPsBGP/ChinaIPsBGP_Classical.yaml
    path: ./Rules/ChinaIPsBGP
    interval: 86400
  China:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Clash/China/China.yaml
    path: ./Rules/China
    interval: 86400
proxy-providers:
  cn:
    type: http
    url: "https://sspool.herokuapp.com/clash/proxies?c=CN,HK,TW"
    path: ./Proxy/cn
  all:
    type: http
    url: "https://raw.githubusercontent.com/xiaoyangdkj/subscribe/main/proxies/all.yaml"
    path: ./Proxy/all
  bdkeji:
    type: http
    url: "https://raw.githubusercontent.com/chfchf0306/clash/main/clash"
    path: ./Proxy/bdkeji